// WARNING: This file is automatically generated by puppeteer. Any modifications made by hand will be lost if the generator is run again.
var grids = new Map();

function generatedGridFn()
{
    var cellHeight = 30;
    var cellWdith = 0;

    var cells = [];
    cellWidth = $("#tabs1tab1 > .grid-stack").eq(0).width() / 12;
    cells.push(initCell("#tab1\\.Group1\\.rotxt_div", cellWidth, cellHeight));
    cells.push(initCell("#tab1\\.Group1\\.rwtxt_div", cellWidth, cellHeight, 1/4));
    cells.push(initCell("#tab1\\.Group1\\.rwchk_div", cellWidth, cellHeight));
    cells.push(initCell("#tab1\\.Group1\\.roradio_div", cellWidth, cellHeight));
    cells.push(initCell("#tab1\\.Group1\\.rwradio_div", cellWidth, cellHeight));
    cells.push(initCell("#tab1\\.Group1\\.roslide_div", cellWidth, cellHeight, 1));
    cells.push(initCell("#tab1\\.Group1\\.rwslide_div", cellWidth, cellHeight, 1));
    layoutCells(cells);

    cells = [];
    cellWidth = $("#tabs1tab1 > .grid-stack").eq(1).width() / 12;
    cells.push(initCell("#tab1\\.Group2\\.drop_div", cellWidth, cellHeight));
    cells.push(initCell("#tab1\\.Group2\\.history_div", cellWidth, cellHeight, 1/3, 600));
    layoutCells(cells);

    cells = [];
    cellWidth = $("#tabs2tab1 > .grid-stack").eq(0).width() / 12;
    cells.push(initCell("#tab2\\.subtab1\\.multihistory_div", cellWidth, cellHeight, 1/3, 600));
    layoutCells(cells);

    cells = [];
    cellWidth = $("#tabs2tab2 > .grid-stack").eq(0).width() / 12;
    cells.push(initCell("#tab2\\.subtab2\\.roclr_div", cellWidth, cellHeight));
    cells.push(initCell("#tab2\\.subtab2\\.rwclr_div", cellWidth, cellHeight));
    layoutCells(cells);

    cells = [];
    cellWidth = $("#tabs2tab3 > .grid-stack").eq(0).width() / 12;
    cells.push(initCell("#tab2\\.subtab3\\.Subpage1_div", cellWidth, cellHeight));
    layoutCells(cells);

    var grids = $('.grid-stack').gridstack({
      cellHeight: cellHeight,
      animate: true
    });

    $(".tab > .grid-stack").each(function() {
      var grid = $(this);
      var gridstack = $($(this).data('gridstack'));
      //console.log(grid.width());

      // can only init the ones that are visible
      if(grid.width() > 0)
      {
        var numColumns = Math.floor(grid.width() / cellHeight);
        //console.log(numColumns);
        //console.log(gridstack);
        //gridstack[0].grid._sortNodes();
        //gridstack[0].grid.batchUpdate();
      }

    });

    $( ".tabs" ).css('height','auto');

    /*var grid = $('.grid-stack').data('gridstack');
    console.log(grid);
    _.each(grids, (value) =>{
      value._sortNodes();
    });*/
}

function generatedDialFn()
{
  initDial($("#tab1\\.Group1\\.roslide"), 25, 100, 1, true);
  initDial($("#tab1\\.Group1\\.rwslide"), 0, 30, .1, false, function (v) { 
    var obj = {
      tab1: {
        Group1: {
          rwslide: v
        }
      }
    };
    websocket.send(JSON.stringify(obj));
  });
}

function generatedGraphFn()
{
  historyPlot = initHistory($("#tab1\\.Group2\\.history"), historyData, 2, ["#33b5e5"]);
  multiHistoryPlot = initHistory($("#tab2\\.subtab1\\.multihistory"), multiHistoryData);
}

function generatedUpdateFn(obj)
{
  if(typeof obj.tab1 !== 'undefined')
  {
    if(typeof obj.tab1.Group1 !== 'undefined')
    {
      if(typeof obj.tab1.Group1.rotxt !== 'undefined') 
      {
        $("#tab1\\.Group1\\.rotxt").html(obj.tab1.Group1.rotxt);
      }
      if(typeof obj.tab1.Group1.rwtxt !== 'undefined') 
      {
        $("#tab1\\.Group1\\.rwtxt").html(obj.tab1.Group1.rwtxt);
      }
      if(typeof obj.tab1.Group1.rwchk !== 'undefined')
      {
        if(obj.tab1.Group1.rwchk)
        {
          $( "#tab1\\.Group1\\.rwchk" ).removeClass("toggle-false");
          $( "#tab1\\.Group1\\.rwchk" ).addClass("toggle-true");
        }
        else
        {
          $( "#tab1\\.Group1\\.rwchk" ).removeClass("toggle-true");
          $( "#tab1\\.Group1\\.rwchk" ).addClass("toggle-false");
        }
      }
      if(typeof obj.tab1.Group1.rochk !== 'undefined')
      {
        if(obj.tab1.Group1.rochk)
        {
          $( "#tab1\\.Group1\\.rochk" ).removeClass("toggle-false");
          $( "#tab1\\.Group1\\.rochk" ).addClass("toggle-true");
        }
        else
        {
          $( "#tab1\\.Group1\\.rochk" ).removeClass("toggle-true");
          $( "#tab1\\.Group1\\.rochk" ).addClass("toggle-false");
        }
      }
      if(typeof obj.tab1.Group1.rwradio !== 'undefined')
      {
        $( "#tab1\\.Group1\\." + obj.tab1.Group1.rwradio ).iCheck('check');
      }
      if(typeof obj.tab1.Group1.roradio !== 'undefined')
      {
        $( "#tab1\\.Group1\\." + obj.tab1.Group1.roradio ).iCheck('check');
      }
      if(typeof obj.tab1.Group1.rwslide !== 'undefined')
      {
        $( "#rswlide" ).val(obj.tab1.Group1.rwslide).trigger('change');
      }
      if(typeof obj.tab1.Group1.roslide !== 'undefined')
      {
        $( "#tab1\\.Group1\\.roslide" ).val(obj.tab1.Group1.roslide).trigger('change');
      }
    }
    if(typeof obj.tab1.Group2 !== 'undefined')
    {
      if(typeof obj.tab1.Group2.drop !== 'undefined')
      {
        $('#tab1\\.Group2\\.drop').val(obj.tab1.Group2.drop);
        $("#tab1\\.Group2\\.drop").selectmenu("refresh");
      }
      if(typeof obj.tab1.Group2.history !== 'undefined')
      {
        updatePlot(historyPlot, historyData, 0, obj.tab1.Group2.history);
      }
    }
  }
  if(typeof obj.tab2 !== 'undefined')
  {
    if(typeof obj.tab2.subtab1 !== 'undefined')
    {
      if(typeof obj.tab2.subtab1.multihistory0 !== 'undefined')
      {
        updatePlot(multiHistoryPlot, multiHistoryData, 0, obj.tab2.subtab1.multihistory0);
      }
      if(typeof obj.tab2.subtab1.multihistory1 !== 'undefined')
      {
        updatePlot(multiHistoryPlot, multiHistoryData, 1, obj.tab2.subtab1.multihistory1);
      }
      if(typeof obj.tab2.subtab1.multihistory2 !== 'undefined')
      {
        updatePlot(multiHistoryPlot, multiHistoryData, 2, obj.tab2.subtab1.multihistory2);
      }
    }
    if(typeof obj.tab2.subtab2 !== 'undefined')
    {
      if(typeof obj.tab2.subtab2.roclr !== 'undefined')
      {
        $( "#tab2\\.subtab2\\.roclr" ).css('background', obj.tab2.subtab2.roclr);
      }
      if(typeof obj.tab2.subtab2.rwclr !== 'undefined')
      {
        $("rwclr").colpickSetColor(obj.tab2.subtab2.rwclr);
      }
    }
  }
}

var historyData = [{data: []}];
var lastHistoryX = 2*Math.PI;
var historyPlot = null;

var multiHistoryData = [{data: []},{data: []},{data: []}];
var multiHistoryPlot = null;

function generatedInputHandlerFn()
{
  $("#tab1\\.Group1\\.rwtxt").change(function()
  {
    var obj = {
      tab1: {
        Group1: {
          rwtxt: $("#tab1\\.Group1\\.rwtxt")[0].value
        }
      }      
    };
    websocket.send(JSON.stringify(obj));
  });

  $("#tab1\\.Group1\\.rwchk").change(function()
  {
    var obj = {
      tab1: {
        Group1: {
          rwchk: $("#tab1\\.Group1\\.rwchk")[0].checked
        }
      }
    };
    websocket.send(JSON.stringify(obj));
  });

  $("#tab1\\.Group1\\.rwradio_0").on('ifChecked', function()
  {
    var obj = {
      tab1: {
        Group1: {
          rwradio: "rwradio_0"
        }
      }
    };
    websocket.send(JSON.stringify(obj));
  });

  $("#tab1\\.Group1\\.rwradio_1").on('ifChecked', function()
  {
    var obj = {
      tab1: {
        Group1: {
          rwradio: "rwradio_1"
        }
      }
    };
    if($("#tab1\\.Group1\\.rwradio_1")[0].checked) websocket.send(JSON.stringify(obj));
  });

  $("#tab1\\.Group1\\.rwradio_2").on('ifChecked', function()
  {
    var obj = {
      tab1: {
        Group1: {
          rwradio: "rwradio_2"
        }
      }
    };
    if($("#tab1\\.Group1\\.rwradio_2")[0].checked) websocket.send(JSON.stringify(obj));
  });

  $("#tab1\\.Group1\\.rwradio_3").on('ifChecked', function()
  {
    var obj = {
      tab1: {
        Group1: {
          rwradio: "rwradio_3"
        }
      }
    };
    if($("#tab1\\.Group1\\.rwradio_3")[0].checked) websocket.send(JSON.stringify(obj));
  });

  $( "#tab1\\.Group2\\.drop" ).on( "selectmenuchange", function(event, ui)
  {
    var obj = {
      tab1: {
        Group2: {
          drop: ui.item.value
        }
      }
    }
    websocket.send(JSON.stringify(obj));
  });

  $('#tab2\\.subtab2\\.rwclr').colpick({
    color: '#0000ff',
    flat: true,
    colorScheme: 'dark',
    submit: 0,
    onChange: function (col, hex, rgb) {
      var obj = {
        tab2: {
          subtab2: {
            rwclr: '#'+hex
          }
        }
      }
      websocket.send(JSON.stringify(obj));
    }
  });
}